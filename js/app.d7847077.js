(function(e){function t(t){for(var r,i,s=t[0],c=t[1],u=t[2],v=0,p=[];v<s.length;v++)i=s[v],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&p.push(a[i][0]),a[i]=0;for(r in c)Object.prototype.hasOwnProperty.call(c,r)&&(e[r]=c[r]);l&&l(t);while(p.length)p.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,s=1;s<n.length;s++){var c=n[s];0!==a[c]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={app:0},o=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="vue-app/";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],c=s.push.bind(s);s.push=t,s=s.slice();for(var u=0;u<s.length;u++)t(s[u]);var l=c;o.push([0,"chunk-vendors"]),n()})({0:function(e,t,n){e.exports=n("56d7")},"034f":function(e,t,n){"use strict";var r=n("85ec"),a=n.n(r);a.a},"08c6":function(e,t,n){"use strict";var r=n("54ea"),a=n.n(r);a.a},1028:function(e,t,n){"use strict";var r=n("ef20"),a=n.n(r);a.a},"54ea":function(e,t,n){},"56d7":function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"state",(function(){return te}));var a={};n.r(a),n.d(a,"namespaced",(function(){return ie})),n.d(a,"state",(function(){return se})),n.d(a,"mutations",(function(){return ce})),n.d(a,"actions",(function(){return ue})),n.d(a,"getters",(function(){return le}));n("4160"),n("d3b7"),n("ac1f"),n("5319"),n("159b"),n("ddb0"),n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("2b0e"),i=n("8103"),s=n.n(i),c=n("bba4"),u=n.n(c),l=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("NavBar"),n("router-view",{key:e.$route.fullPath})],1)},v=[],p=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"nav",attrs:{id:"nav"}},[n("router-link",{staticClass:"brand",attrs:{to:"/"}},[e._v("Real World Events")]),n("nav",[n("router-link",{attrs:{to:{name:"event-list"}}},[e._v("List")]),e._v(" | "),n("router-link",{attrs:{to:{name:"event-create"}}},[e._v("Create Event")])],1)],1)},d=[],f={},h=f,m=(n("1028"),n("2877")),_=Object(m["a"])(h,p,d,!1,null,"23e5ba54",null),g=_.exports,b={components:{NavBar:g}},E=b,y=(n("034f"),Object(m["a"])(E,l,v,!1,null,null,null)),w=y.exports,O=n("8c4f"),T=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("Create an Event")]),n("form",{on:{submit:function(t){return t.preventDefault(),e.createEvent(t)}}},[n("label",[e._v("Select a category")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.event.category,expression:"event.category"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.event,"category",t.target.multiple?n:n[0])}}},e._l(e.categories,(function(t){return n("option",{key:t},[e._v(e._s(t))])})),0),n("h3",[e._v("Name & describe your event")]),n("div",{staticClass:"field"},[n("label",[e._v("Title")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.event.title,expression:"event.title"}],attrs:{type:"text",placeholder:"Add an event title"},domProps:{value:e.event.title},on:{input:function(t){t.target.composing||e.$set(e.event,"title",t.target.value)}}})]),n("div",{staticClass:"field"},[n("label",[e._v("Description")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.event.description,expression:"event.description"}],attrs:{type:"text",placeholder:"Add a description"},domProps:{value:e.event.description},on:{input:function(t){t.target.composing||e.$set(e.event,"description",t.target.value)}}})]),n("h3",[e._v("Where is your event?")]),n("div",{staticClass:"field"},[n("label",[e._v("Location")]),n("input",{directives:[{name:"model",rawName:"v-model",value:e.event.location,expression:"event.location"}],attrs:{type:"text",placeholder:"Add a location"},domProps:{value:e.event.location},on:{input:function(t){t.target.composing||e.$set(e.event,"location",t.target.value)}}})]),n("h3",[e._v("When is your event?")]),n("div",{staticClass:"field"},[n("label",[e._v("Date")]),n("datepicker",{attrs:{placeholder:"Select a date"},model:{value:e.event.date,callback:function(t){e.$set(e.event,"date",t)},expression:"event.date"}})],1),n("div",{staticClass:"field"},[n("label",[e._v("Select a time")]),n("select",{directives:[{name:"model",rawName:"v-model",value:e.event.time,expression:"event.time"}],on:{change:function(t){var n=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.event,"time",t.target.multiple?n:n[0])}}},e._l(e.times,(function(t){return n("option",{key:t},[e._v(e._s(t))])})),0)]),n("input",{staticClass:"button -fill-gradient",attrs:{type:"submit",value:"Submit"}})])])},j=[],x=n("fa33"),C={components:{Datepicker:x["a"]},data:function(){for(var e=[],t=1;t<=24;t++)e.push(t+":00");return{event:this.createFreshEventObject(),times:e,categories:this.$store.state.categories}},methods:{createEvent:function(){var e=this;this.$store.dispatch("event/createEvent",this.event).then((function(){e.$router.push({name:"event-show",params:{id:e.event.id}}),e.event=e.createFreshEventObject()})).catch((function(){console.log("There was a problem creating your event")}))},createFreshEventObject:function(){var e=this.$store.state.user.user,t=Math.floor(1e7*Math.random());return{id:t,category:"",organizer:e,title:"",description:"",location:"",date:"",time:"",attendees:[]}}}},S=C,N=(n("f7fc"),Object(m["a"])(S,T,j,!1,null,"30349bd5",null)),$=N.exports,P=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("h1",[e._v("Events for "+e._s(e.user.user.name))]),e._l(e.event.events,(function(e){return n("EventCard",{key:e.id,attrs:{event:e}})})),1!=e.page?[n("router-link",{attrs:{to:{name:"event-list",query:{page:e.page-1}},rel:"prev"}},[e._v("Prev Page")]),e._v(" | ")]:e._e(),e.hasNextPage?n("router-link",{attrs:{to:{name:"event-list",query:{page:e.page+1}},rel:"prev"}},[e._v("Next Page")]):e._e()],2)},k=[],A=n("5530"),D=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("router-link",{staticClass:"event-link",attrs:{to:{name:"event-show",params:{id:e.event.id}}}},[n("div",{staticClass:"event-card -shadow"},[n("span",{staticClass:"eyebrow"},[e._v("@"+e._s(e.event.time)+" on "+e._s(e.event.date))]),n("h4",[e._v(e._s(e.event.title))]),n("BaseIcon",{attrs:{name:"users"}},[n("span",{attrs:{slot:"description"},slot:"description"},[e._v(e._s(e.event.attendees.length)+" attending")])])],1)])},V=[],I={props:{event:Object}},L=I,M=(n("f38a"),Object(m["a"])(L,D,V,!1,null,"5eac6758",null)),B=M.exports,z=n("2f62"),F={components:{EventCard:B},created:function(){this.perPage=3,this.$store.dispatch("event/fetchEvents",{perPage:this.perPage,page:this.page})},computed:Object(A["a"])({page:function(){return parseInt(this.$route.query.page)||1},hasNextPage:function(){return this.event.eventsTotal>this.page*this.perPage}},Object(z["c"])(["event","user"]))},U=F,q=Object(m["a"])(U,P,k,!1,null,null,null),W=q.exports,J=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("div",{staticClass:"event-header"},[n("span",{staticClass:"eyebrow"},[e._v("@"+e._s(e.event.time)+" on "+e._s(e.event.date))]),n("h1",{staticClass:"title"},[e._v(e._s(e.event.title))]),n("h5",[e._v("Organized by "+e._s(e.event.organizer?e.event.organizer.name:""))]),n("h5",[e._v("Category: "+e._s(e.event.category))])]),n("BaseIcon",{attrs:{name:"map"}},[n("h2",[e._v("Location")])]),n("address",[e._v(e._s(e.event.location))]),n("h2",[e._v("Event details")]),n("p",[e._v(e._s(e.event.description))]),n("h2",[e._v(" Attendees "),n("span",{staticClass:"badge -fill-gradient"},[e._v(e._s(e.event.attendees?e.event.attendees.length:0))])]),n("ul",{staticClass:"list-group"},e._l(e.event.attendees,(function(t,r){return n("li",{key:r,staticClass:"list-item"},[n("b",[e._v(e._s(t.name))])])})),0)],1)},R=[],H={props:["id"],created:function(){this.fetchEvent(this.id)},computed:Object(z["c"])({event:function(e){return e.event.event}}),methods:Object(z["b"])("event",["fetchEvent"])},G=H,K=(n("08c6"),Object(m["a"])(G,J,R,!1,null,"9776b732",null)),Q=K.exports;o["a"].use(O["a"]);var X="history",Y=[{path:"/",name:"event-list",component:W},{path:"/event/:id",name:"event-show",component:Q,props:!0},{path:"/event/create",name:"event-create",component:$}],Z=new O["a"]({mode:X,routes:Y}),ee=Z,te={user:{id:1,name:"Araceli"}},ne=(n("7db0"),n("b0c0"),n("bc3a")),re=n.n(ne),ae=re.a.create({baseURL:"http://localhost:3000",withCredentials:!1,headers:{Accept:"application/json","Content-Type":"application/json"}}),oe={getEvents:function(e,t){return ae.get("/events?_limit="+e+"&_page="+t)},getEvent:function(e){return ae.get("/events/"+e)},postEvent:function(e){return ae.post("/events",e)}},ie=!0,se={events:[],eventsTotal:0,event:{}},ce={ADD_EVENT:function(e,t){e.events.push(t)},SET_EVENTS:function(e,t){e.events=t},SET_EVENTS_TOTAL:function(e,t){e.eventsTotal=t},SET_EVENT:function(e,t){e.event=t}},ue={createEvent:function(e,t){var n=e.commit,r=e.rootState;return console.log("User creating event is "+r.user.user.name),distpatch("moduleName/actionToCall",null,{root:!0}),oe.postEvent(t).then((function(){n("ADD_EVENT",t)}))},fetchEvents:function(e,t){var n=e.commit,r=t.perPage,a=t.page;oe.getEvents(r,a).then((function(e){n("SET_EVENTS_TOTAL",parseInt(e.headers["x-total-count"])),n("SET_EVENTS",e.data)})).catch((function(e){console.log("There was an error:",e.response)}))},fetchEvent:function(e,t){var n=e.commit,r=e.getters,a=r.getEventById(t);a?n("SET_EVENT",a):oe.getEvent(t).then((function(e){n("SET_EVENT",e.data)})).catch((function(e){console.log("There was an error:",e.response)}))}},le={getEventById:function(e){return function(t){return e.events.find((function(e){return e.id===t}))}}};o["a"].use(z["a"]);var ve=new z["a"].Store({modules:{user:r,event:a},state:{categories:["sustainability","education","food","community"]}}),pe=n("ef13");pe.keys().forEach((function(e){var t=pe(e),n=s()(u()(e.replace(/^\.\/(.*)\.\w+$/,"$1")));o["a"].component(n,t.default||t)})),new o["a"]({router:ee,store:ve,render:function(e){return e(w)}}).$mount("#app")},7461:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"icon-wrapper"},[n("span",{domProps:{innerHTML:e._s(e.svg)}}),e._t("description")],2)},a=[],o=(n("b0c0"),n("a9e3"),n("77c6")),i=n.n(o),s={name:"Icon",props:{name:String,width:{type:[Number,String],default:24},height:{type:[Number,String],default:24}},computed:{svg:function(){return i.a.icons[this.name].toSvg({class:"icon",width:this.width,height:this.height})}}},c=s,u=(n("adde"),n("2877")),l=Object(u["a"])(c,r,a,!1,null,"35e2f231",null);t["default"]=l.exports},"85ec":function(e,t,n){},a72b:function(e,t,n){},adde:function(e,t,n){"use strict";var r=n("a72b"),a=n.n(r);a.a},ccea:function(e,t,n){},ef13:function(e,t,n){var r={"./BaseIcon.vue":"7461"};function a(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}a.keys=function(){return Object.keys(r)},a.resolve=o,e.exports=a,a.id="ef13"},ef20:function(e,t,n){},f38a:function(e,t,n){"use strict";var r=n("ccea"),a=n.n(r);a.a},f584:function(e,t,n){},f7fc:function(e,t,n){"use strict";var r=n("f584"),a=n.n(r);a.a}});
//# sourceMappingURL=app.d7847077.js.map